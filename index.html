<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Love ‚ù§Ô∏è</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI', sans-serif;
}

body{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#ff4e50,#ff6a88,#ff99ac);
  overflow:hidden;
  color:white;
  text-align:center;
}

/* Start Screen */
#startScreen{
  position:fixed;
  width:100%;
  height:100%;
  background:black;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:9999;
}

#startScreen button{
  padding:15px 40px;
  font-size:18px;
  border:none;
  border-radius:30px;
  background:#ff4e50;
  color:white;
  cursor:pointer;
}

/* Container */
.container{
  background:rgba(255,255,255,0.15);
  backdrop-filter: blur(15px);
  padding:35px;
  border-radius:25px;
  width:90%;
  max-width:400px;
  position:relative;
  overflow:hidden;
}

h2{
  margin-bottom:20px;
  min-height:60px;
}

/* Buttons */
#buttons{
  position:relative;
  height:140px;
}

button{
  padding:12px 28px;
  border:none;
  border-radius:25px;
  font-size:16px;
  cursor:pointer;
  transition:0.3s;
}

#yes{
  background:#00ff95;
  color:black;
  font-weight:bold;
  position:absolute;
  left:30%;
  top:60px;
}

#no{
  background:#ff004c;
  color:white;
  position:absolute;
  left:60%;
  top:60px;
}

/* Celebration */
#celebrate{
  display:none;
  font-size:24px;
  margin-top:20px;
  animation:glow 1s infinite alternate;
}

@keyframes glow{
  0%{text-shadow:0 0 10px #fff,0 0 20px #ff0;}
  100%{text-shadow:0 0 25px #ff0,0 0 35px #f0f;}
}

/* Hearts */
.heart{
  position:absolute;
  width:20px;
  height:20px;
  background:red;
  transform:rotate(45deg);
  animation:fly 3s linear forwards;
}
.heart:before,.heart:after{
  content:'';
  position:absolute;
  width:20px;
  height:20px;
  background:red;
  border-radius:50%;
}
.heart:before{top:-10px;}
.heart:after{left:10px;}

@keyframes fly{
  0%{opacity:1; transform:translate(0,0) rotate(45deg);}
  100%{opacity:0; transform:translate(calc(-50px + 100px*var(--randX)),-350px) rotate(45deg);}
}

/* Fireworks */
.firework{
  position:absolute;
  width:5px;
  height:5px;
  border-radius:50%;
  animation:fw 1s linear forwards;
}
@keyframes fw{
  0%{opacity:1; transform:translate(0,0);}
  100%{opacity:0; transform:translate(var(--dx),var(--dy));}
}
</style>
</head>

<body>

<div id="startScreen">
  <h2>Tap to Start Our Love Story üíñ</h2>
  <button id="startBtn">Start</button>
</div>

<div class="container">
  <h2 id="proposalText"></h2>

  <div id="buttons">
    <button id="yes">Yes üòç</button>
    <button id="no">No üôÑ</button>
  </div>

  <div id="celebrate">
    üíç YAYYYYY ‚ù§Ô∏è <br>
    You are mine forever ü•∞‚ú®<br>
    I love you endlessly üíñ
  </div>
</div>

<audio id="bgmusic" src="love.mp3" loop preload="auto"></audio>

<script>
const music = document.getElementById("bgmusic");
const startBtn = document.getElementById("startBtn");
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const container = document.querySelector(".container");

let tries = 0;

/* Start */
startBtn.addEventListener("click", async ()=>{
  try{
    music.volume = 0.8;
    await music.play();
  }catch(e){}
  document.getElementById("startScreen").style.display="none";
});

/* Typing Effect */
const text = "Uqba üíñ\nWill You Be My Forever?";
let index = 0;
function typeEffect(){
  if(index < text.length){
    document.getElementById("proposalText").innerHTML += 
    text.charAt(index)==="\n" ? "<br>" : text.charAt(index);
    index++;
    setTimeout(typeEffect,60);
  }
}
typeEffect();

/* No Button Move + Shrink */
function moveNoButton(){

  const rect = container.getBoundingClientRect();
  const btnWidth = noBtn.offsetWidth;
  const btnHeight = noBtn.offsetHeight;

  const padding = 20;

  const maxX = rect.width - btnWidth - padding;
  const maxY = rect.height - btnHeight - padding;

  const x = Math.random() * maxX;
  const y = Math.random() * maxY;

  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";

  tries++;

  /* Shrink NO */
  noBtn.style.transform = `scale(${1 - tries*0.1})`;

  /* Grow YES */
  yesBtn.style.transform = `scale(${1 + tries*0.15})`;

  /* YES chases NO slightly */
  yesBtn.style.left = (x - 50) + "px";
}

noBtn.addEventListener("click", moveNoButton);
noBtn.addEventListener("touchstart", moveNoButton);

/* YES CLICK */
yesBtn.addEventListener("click", ()=>{
  document.getElementById("buttons").style.display="none";
  document.getElementById("celebrate").style.display="block";
  startHearts();
  startFireworks();
});

/* Hearts */
function startHearts(){
  setInterval(()=>{
    let heart=document.createElement("div");
    heart.classList.add("heart");
    heart.style.left=Math.random()*window.innerWidth+"px";
    heart.style.top=window.innerHeight+"px";
    heart.style.setProperty('--randX',Math.random());
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),3000);
  },150);
}

/* Fireworks */
function startFireworks(){
  const colors=['#ff0','#f0f','#0ff','#0f0','#f00','#ff69b4'];
  setInterval(()=>{
    const x=Math.random()*window.innerWidth;
    const y=Math.random()*window.innerHeight/2;
    for(let i=0;i<20;i++){
      const fw=document.createElement("div");
      fw.classList.add("firework");
      fw.style.left=x+"px";
      fw.style.top=y+"px";
      const angle=Math.random()*2*Math.PI;
      const distance=Math.random()*100+50;
      fw.style.setProperty('--dx',Math.cos(angle)*distance+'px');
      fw.style.setProperty('--dy',Math.sin(angle)*distance+'px');
      fw.style.background=colors[Math.floor(Math.random()*colors.length)];
      document.body.appendChild(fw);
      setTimeout(()=>fw.remove(),1000);
    }
  },500);
}
</script>

</body>
</html>
